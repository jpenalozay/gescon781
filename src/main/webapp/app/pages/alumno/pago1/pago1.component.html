<div class="row">
  <div class="col-md-12">
    <form [formGroup]="formEntity" (ngSubmit)="doAlumnoSel()">
      <div class="row">
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h5>Buscar</h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <label> Ingresar DNI, Código o Nombre </label>
                  <div class="input-group input-group-sm">
                    <input
                      type="text"
                      class="custom-select custom-select-sm text-uppercase"
                      placeholder="Ingrese aquí"
                      id="filtroAlumno"
                      list="lstFilterAlumno"
                      formControlName="filtroAlumno"
                      (keyup)="doFilterPressKey()"
                    />
                    <datalist id="lstFilterAlumno">
                      <option *ngFor="let filter of cacheAlumnos" [ngValue]="filter.key">{{ filter.value }}</option>
                    </datalist>
                    <button type="submit" class="btn btn-primary">Seleccionar</button>
                  </div>
                </div>
                <div class="col-md-6 row">
                  <div class="col-md-6">
                    <label class="form-label-sm form-control-sm" for="alumCodigo">Código</label>
                    <input
                      type="number"
                      class="form-control form-control-sm text-right"
                      id="alumnoCodigo"
                      formControlName="alumnoCodigo"
                      placeholder="Código"
                      readonly
                    />
                  </div>
                  <div class="col-md-6">
                    <label class="form-control-sm col-form-label-sm text-right" for="alumnoDNI">DNI</label>
                    <input
                      type="number"
                      class="form-control form-control-sm text-right"
                      id="alumnoDNI"
                      formControlName="alumnoDni"
                      placeholder="DNI"
                      readonly
                    />
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 text-center">
                  <img *ngIf="selAlumno" class="img-thumbnail" style="max-height: 300px" />
                </div>
                <div class="col-md-6">
                  <div class="col-md-12">
                    <label for="alumNombres" class="form-control-sm col-form-label text-right">Nombres</label>
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="alumNombres"
                      formControlName="alumnoNombres"
                      placeholder="Nombres"
                      readonly
                    />
                  </div>
                  <div class="col-md-12">
                    <label for="alumApellidos" class="form-control-sm col-form-label text-right">Apellidos</label>
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="alumApellidos"
                      formControlName="alumnoApellidos"
                      placeholder="Apellidos"
                      readonly
                    />
                  </div>
                </div>
              </div>
              <div>
                <div class="form-group row">
                  <div class="col-md-6">
                    <label for="alumnoCurso" class="form-control-sm col-form-label col-sm-4 text-right">Curso</label>
                    <input
                      type="text"
                      class="form-control form-control-sm col-sm-8"
                      id="alumnoCurso"
                      formControlName="alumnoCurso"
                      placeholder="Curso"
                      readonly
                    />
                  </div>
                  <div class="col-md-6">
                    <label for="alumCDetalle" class="form-control-sm col-form-label col-sm-4 text-right">C. Detalle</label>
                    <input
                      type="text"
                      class="form-control form-control-sm col-sm-8"
                      id="alumCDetalle"
                      formControlName="alumnoAsignatura"
                      placeholder="C. Detalle"
                      readonly
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row">
                      <div class="col-md-4">
                        <label for="alumClasesCant" class="form-control-sm col-form-label text-right">C. Practicas</label>
                        <input
                          type="number"
                          class="form-control form-control-sm col-sm-4 text-right"
                          id="alumClasesCant"
                          formControlName="alumnoClasesTotales"
                          placeholder="Clases Practicas"
                          readonly
                        />
                      </div>
                      <div class="col-md-4">
                        <label for="alumClasesMark" class="form-control-sm col-form-label text-right">Programadas</label>
                        <input
                          type="number"
                          class="form-control form-control-sm col-sm-4 text-right"
                          id="alumClasesMark"
                          formControlName="alumnoClasesProgramadas"
                          placeholder="Clases Programadas"
                          readonly
                        />
                      </div>
                      <div class="col-md-4">
                        <label for="alumClasesUsed" class="form-control-sm col-form-label text-right">Asistidas</label>
                        <input
                          type="number"
                          class="form-control form-control-sm col-sm-4 text-right"
                          id="alumClasesUsed"
                          formControlName="alumnoClasesAsistidas"
                          placeholder="Clases Asistidas"
                          readonly
                          value="0"
                        />
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row">
                      <div class="col-md-6">
                        <label for="alumClasesCant" class="form-control-sm col-form-label col-sm-8 text-right">S/. Total</label>
                        <input
                          type="number"
                          class="form-control form-control-sm col-sm-4 text-right"
                          id="alumTotal"
                          formControlName="alumnoTotal"
                          placeholder="Monto Total"
                          readonly
                        />
                      </div>
                      <div class="col-md-6">
                        <label for="alumClasesMark" class="form-control-sm col-form-label col-sm-8 text-right">S/. Debe</label>
                        <input
                          type="number"
                          class="form-control form-control-sm col-sm-4 text-right"
                          id="alumPagos"
                          formControlName="alumnoDebe"
                          placeholder="Pagos"
                          readonly
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="row ">
            <div class="col-md-12 ">
              <div class="card">
                <button
                  class="card-header btn btn-outline-primary"
                  (click)="isCollapsed = !isCollapsed"
                  [attr.aria-expanded]="isCollapsed"
                  aria-controls="collapseHistorial"
                  [disabled]="isDisable"
                >
                  Historial
                </button>
                <div class="collapse card-body" id="collapseHistorial" #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
                  <div class="card-body">
                    <div class="row">
                      <table id="tablaHistorial" class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Incripción</th>
                            <th scope="col">Estado</th>
                            <th scope="col">Fecha</th>
                            <th scope="col">Monto S/.</th>
                            <th scope="col">Local</th>
                            <th scope="col">Documento</th>
                            <th scope="col">Número</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let row of cacheHistorial; index as i">
                            <th scope="row">{{ i + 1 }}</th>
                            <td>
                              <a>{{ row.incripcion }}</a>
                            </td>
                            <td>{{ row.estado }}</td>
                            <td>{{ row.fecha | formatMediumDatetime }}</td>
                            <td>{{ row.monto | number }}</td>
                            <td>{{ row.Local }}</td>
                            <td>{{ row.documento }}</td>
                            <td>
                              <a>{{ row.numero }}</a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
